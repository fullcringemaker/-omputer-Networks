<!DOCTYPE html>
<html>
<head>
    <title>News Dashboard</title>
</head>
<body>
    <h1>News Dashboard</h1>
    <div id="news"></div>

    <script type="text/javascript">
        var ws = new WebSocket("ws://" + window.location.host + "/ws");

        ws.onmessage = function(event) {
            var newsItems = JSON.parse(event.data);
            var newsDiv = document.getElementById("news");
            newsDiv.innerHTML = "";
            for (var i = 0; i < newsItems.length; i++) {
                var item = newsItems[i];
                var div = document.createElement("div");
                div.innerHTML = "<h2><a href='" + item.link + "' target='_blank'>" + item.title + "</a></h2>" +
                                "<p>" + item.description + "</p>" +
                                "<p>Date: " + item.date + "</p>" +
                                "<hr>";
                newsDiv.appendChild(div);
            }
        };

        ws.onopen = function() {
            console.log("WebSocket connection established");
        };

        ws.onclose = function() {
            console.log("WebSocket connection closed");
        };
    </script>
</body>
</html>
