<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>News Dashboard</title>
</head>
<body>
    <h1>News Dashboard</h1>
    <div id="news-container">
        {{template "news" .NewsItems}}
    </div>
    <script>
        // Connect via WebSocket
        var ws = new WebSocket("ws://" + location.host + "/ws");
        ws.onmessage = function(event) {
            var data = JSON.parse(event.data);
            renderNews(data);
        };

        function renderNews(newsItems) {
            var newsContainer = document.getElementById("news-container");
            var html = '';
            for (var i = 0; i < newsItems.length; i++) {
                var item = newsItems[i];
                html += '<div class="news-item">';
                html += '<h2><a href="' + item.Link + '" target="_blank">' + item.Title + '</a></h2>';
                html += '<p>' + item.Description + '</p>';
                var date = new Date(item.Date);
                var day = ("0" + date.getDate()).slice(-2);
                var month = ("0" + (date.getMonth() + 1)).slice(-2);
                var year = date.getFullYear();
                html += '<small>' + day + '.' + month + '.' + year + '</small>';
                html += '<hr></div>';
            }
            newsContainer.innerHTML = html;
        }
    </script>
</body>
</html>
