<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Новости</title>
</head>
<body>
    <h1>Новости</h1>
    <div id="news-container">
        Загрузка новостей...
    </div>

    <script>
        async function fetchNews() {
            try {
                const response = await fetch('/news');
                const newsItems = await response.json();
                const container = document.getElementById('news-container');
                container.innerHTML = '';

                newsItems.forEach(item => {
                    const newsDiv = document.createElement('div');
                    newsDiv.innerHTML = `
                        <h2>${item.Title}</h2>
                        <p>${item.Description}</p>
                        <small>${item.Date}</small>
                        <hr>
                    `;
                    container.appendChild(newsDiv);
                });
            } catch (error) {
                console.error('Ошибка при загрузке новостей:', error);
            }
        }

        // Первоначальная загрузка новостей
        fetchNews();

        // Обновление новостей каждые 60 секунд
        setInterval(fetchNews, 60000);
    </script>
</body>
</html>
